# ============================================
# SCRYBE ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env.local and fill in your values
#
# Legend:
#   [REQUIRED] - Must be set for the application to work
#   [OPTIONAL] - Optional, enables specific features
#   [CONDITIONAL] - Required only when using specific features
#
# Last updated: January 2026

# ============================================
# DATABASE
# ============================================
# Description: PostgreSQL connection string for Prisma ORM
# Required: Yes
# Used by: All database operations, Prisma client
DATABASE_URL="postgresql://user:password@host:5432/database?schema=public"

# Description: Direct PostgreSQL connection (bypasses connection pooler)
# Required: Yes (for migrations and schema operations)
# Used by: Prisma migrations, db:push, db:migrate commands
DIRECT_URL="postgresql://user:password@host:5432/database?schema=public"

# ============================================
# AUTHENTICATION (Supabase)
# ============================================
# Description: Supabase project URL
# Required: Yes
# Used by: Authentication, session management, middleware
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"

# Description: Supabase anonymous/public API key (safe for client-side)
# Required: Yes
# Used by: Client-side auth, public API access
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Description: Supabase service role key (server-side only, has admin access)
# Required: Yes (for server-side admin operations)
# Used by: User invitations, admin operations, file storage
# WARNING: Never expose this key to the client
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Description: Base URL of the application (no trailing slash)
# Required: Yes
# Used by: OAuth callbacks, email links, webhooks, redirects
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Description: Node.js environment mode
# Required: No (defaults to "development")
# Used by: Conditional logic, error handling, security features
NODE_ENV="development"

# Description: Base URL for client portal (if different from main app)
# Required: No (defaults to NEXT_PUBLIC_APP_URL)
# Used by: SMS notifications, portal token generation
PORTAL_BASE_URL="https://portal.scrybe.io"

# Description: Secret key for authenticating cron job endpoints
# Required: Yes (in production)
# Used by: /api/cron/* endpoints for scheduled tasks
CRON_SECRET="your-cron-secret-key-here"

# Description: API key for authenticating background job endpoints
# Required: Yes (in production)
# Used by: /api/jobs/* endpoints for async processing
JOBS_API_KEY="your-jobs-api-key-here"

# ============================================
# AI SERVICES (Anthropic Claude)
# ============================================
# Description: Anthropic API key for Claude AI
# Required: Yes
# Used by: Form data extraction, document analysis, OCR, field detection
ANTHROPIC_API_KEY="sk-ant-api03-xxxxxxxxxxxxxxxxxxxx"

# ============================================
# AI SERVICES (OpenAI)
# ============================================
# Description: OpenAI API key for Whisper transcription and embeddings
# Required: No (alternative to Deepgram for transcription)
# Used by: Meeting transcription (Whisper), knowledge embeddings
OPENAI_API_KEY="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# TRANSCRIPTION (Deepgram)
# ============================================
# Description: Deepgram API key for speech-to-text
# Required: No (preferred transcription service)
# Used by: Call transcription, meeting transcription
DEEPGRAM_API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# VOIP (Twilio)
# ============================================
# Description: Twilio account SID
# Required: Conditional (for VoIP calling features)
# Used by: Call initiation, phone number provisioning
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Twilio auth token
# Required: Conditional (for VoIP calling features)
# Used by: Twilio API authentication, webhook validation
TWILIO_AUTH_TOKEN="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Twilio TwiML App SID
# Required: Conditional (for VoIP calling features)
# Used by: Browser-based calling configuration
TWILIO_TWIML_APP_SID="APxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Twilio API Key SID (for access tokens)
# Required: Conditional (for browser-based calling)
# Used by: Generating client access tokens for Twilio Voice SDK
TWILIO_API_KEY="SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Twilio API Secret (for access tokens)
# Required: Conditional (for browser-based calling)
# Used by: Generating client access tokens for Twilio Voice SDK
TWILIO_API_SECRET="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Twilio phone number for SMS
# Required: Conditional (for SMS notifications)
# Used by: Sending SMS to clients (portal links, reminders)
TWILIO_PHONE_NUMBER="+15551234567"

# ============================================
# PAYMENTS (Stripe)
# ============================================
# Description: Stripe secret API key
# Required: Conditional (for billing features)
# Used by: Creating subscriptions, managing payments
STRIPE_SECRET_KEY="sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Stripe webhook signing secret
# Required: Conditional (for Stripe webhooks)
# Used by: Verifying webhook authenticity
STRIPE_WEBHOOK_SECRET="whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Stripe publishable key (safe for client-side)
# Required: Conditional (for billing features)
# Used by: Stripe.js, checkout UI
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Stripe Price IDs - Subscription Plans (Monthly)
# Description: Price IDs for monthly subscription plans
# Required: Conditional (for subscription billing)
STRIPE_STARTER_MONTHLY_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"
STRIPE_PROFESSIONAL_MONTHLY_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"
STRIPE_ENTERPRISE_MONTHLY_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"

# Stripe Price IDs - Subscription Plans (Yearly)
# Description: Price IDs for yearly subscription plans
# Required: Conditional (for subscription billing)
STRIPE_STARTER_YEARLY_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"
STRIPE_PROFESSIONAL_YEARLY_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"
STRIPE_ENTERPRISE_YEARLY_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"

# Stripe Price IDs - Form Packs (One-time purchases)
# Description: Price IDs for form pack add-ons
# Required: Conditional (for one-time purchases)
STRIPE_FORM_PACK_5_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"
STRIPE_FORM_PACK_10_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"
STRIPE_FORM_PACK_25_PRICE_ID="price_xxxxxxxxxxxxxxxxxxxx"

# ============================================
# EMAIL (SendGrid)
# ============================================
# Description: SendGrid API key for sending emails
# Required: No (alternative email provider)
# Used by: Meeting summary distribution, notifications
SENDGRID_API_KEY="SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Sender email address for SendGrid
# Required: No (defaults to meetings@scrybe.io)
# Used by: Email from address
SENDGRID_FROM_EMAIL="meetings@scrybe.io"

# ============================================
# EMAIL (AWS SES)
# ============================================
# Description: AWS region for SES
# Required: No (alternative email provider)
# Used by: Meeting summary distribution, notifications
AWS_SES_REGION="us-east-1"

# Description: Sender email address for AWS SES
# Required: No (defaults to meetings@scrybe.io)
# Used by: Email from address
AWS_SES_FROM_EMAIL="meetings@scrybe.io"

# Description: Email domain for reports
# Required: No (defaults to scrybe.io)
# Used by: Automated report distribution
EMAIL_DOMAIN="scrybe.io"

# ============================================
# STORAGE (AWS S3)
# ============================================
# Description: AWS region for S3 and other services
# Required: Conditional (for S3 storage)
# Default: us-east-1
AWS_REGION="us-east-1"

# Description: AWS access key ID
# Required: Conditional (for S3 storage)
# Used by: S3 uploads, file storage
AWS_ACCESS_KEY_ID="AKIAXXXXXXXXXXXXXXXX"

# Description: AWS secret access key
# Required: Conditional (for S3 storage)
# Used by: S3 uploads, file storage
AWS_SECRET_ACCESS_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: S3 bucket name for file storage
# Required: Conditional (for S3 storage)
# Used by: Call recordings, exports, attendance photos
AWS_S3_BUCKET="scrybe-files-production"

# Description: AWS KMS key ARN for encryption at rest (HIPAA compliance)
# Required: No (recommended for PHI data)
# Used by: S3 server-side encryption
AWS_KMS_KEY_ARN="arn:aws:kms:us-east-1:123456789012:key/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"

# ============================================
# MEETING INTEGRATIONS (Microsoft Teams)
# ============================================
# Description: Microsoft Azure AD Client ID
# Required: Conditional (for Teams integration)
# Used by: Teams OAuth, calendar access
TEAMS_CLIENT_ID="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"

# Description: Microsoft Azure AD Client Secret
# Required: Conditional (for Teams integration)
# Used by: Teams OAuth authentication
TEAMS_CLIENT_SECRET="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Teams OAuth redirect URI
# Required: No (defaults to {APP_URL}/api/integrations/meetings/callback/teams)
# Used by: OAuth callback handling
TEAMS_REDIRECT_URI="https://app.scrybe.io/api/integrations/meetings/callback/teams"

# ============================================
# MEETING INTEGRATIONS (Zoom)
# ============================================
# Description: Zoom OAuth Client ID
# Required: Conditional (for Zoom integration)
# Used by: Zoom OAuth, meeting access
ZOOM_CLIENT_ID="xxxxxxxxxxxxxxxxxxxx"

# Description: Zoom OAuth Client Secret
# Required: Conditional (for Zoom integration)
# Used by: Zoom OAuth authentication
ZOOM_CLIENT_SECRET="xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Zoom webhook secret token
# Required: Conditional (for Zoom webhooks)
# Used by: Verifying Zoom webhook authenticity
ZOOM_WEBHOOK_SECRET_TOKEN="xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Zoom OAuth redirect URI
# Required: No (defaults to {APP_URL}/api/integrations/meetings/callback/zoom)
# Used by: OAuth callback handling
ZOOM_REDIRECT_URI="https://app.scrybe.io/api/integrations/meetings/callback/zoom"

# ============================================
# MEETING INTEGRATIONS (Google Meet)
# ============================================
# Description: Google OAuth Client ID
# Required: Conditional (for Google Meet integration)
# Used by: Google OAuth, calendar access
GOOGLE_CLIENT_ID="xxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com"

# Description: Google OAuth Client Secret
# Required: Conditional (for Google Meet integration)
# Used by: Google OAuth authentication
GOOGLE_CLIENT_SECRET="GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Google OAuth redirect URI
# Required: No (defaults to {APP_URL}/api/integrations/meetings/callback/google)
# Used by: OAuth callback handling
GOOGLE_REDIRECT_URI="https://app.scrybe.io/api/integrations/meetings/callback/google"

# Description: Token for validating Google webhook requests
# Required: Conditional (for Google Meet webhooks)
# Used by: Webhook verification
GOOGLE_WEBHOOK_TOKEN="your-google-webhook-verification-token"

# ============================================
# JOB QUEUE (Redis/BullMQ)
# ============================================
# Description: Redis connection URL for job queue
# Required: Conditional (for background jobs)
# Used by: Call processing, exports, imports, scheduled tasks
# Format: redis://[[user]:[password]@][host][:port][/db-number]
REDIS_URL="redis://localhost:6379"

# ============================================
# FILE SCANNING (ClamAV)
# ============================================
# Description: ClamAV daemon host address
# Required: No (recommended for HIPAA compliance)
# Used by: Virus scanning uploaded files
CLAMAV_HOST="localhost"

# Description: ClamAV daemon port
# Required: No (defaults to 3310)
# Used by: Connecting to ClamAV daemon
CLAMAV_PORT="3310"

# ============================================
# FILE SCANNING (External API)
# ============================================
# Description: External virus scanning API URL
# Required: No (alternative to ClamAV)
# Used by: Cloud-based virus scanning
SCANNER_API_URL="https://api.virustotal.com/v3"

# Description: External virus scanning API key
# Required: Conditional (if using external scanner)
# Used by: Authenticating to external scanning service
SCANNER_API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# ADDRESS AUTOCOMPLETE (Radar)
# ============================================
# Description: Radar publishable key (safe for client-side)
# Required: No (for address autocomplete features)
# Used by: Form address fields, location services
NEXT_PUBLIC_RADAR_KEY="prj_live_pk_xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Description: Radar secret key (server-side only)
# Required: No (for server-side address validation)
# Used by: Address verification, geocoding
RADAR_SECRET_KEY="prj_live_sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# ANALYTICS (Fathom)
# ============================================
# Description: Fathom Analytics site ID
# Required: No (for privacy-friendly analytics)
# Used by: Client-side page view tracking
NEXT_PUBLIC_FATHOM_SITE_ID="XXXXXXXX"

# ============================================
# FEATURE FLAGS AND LIMITS
# ============================================
# Note: These are typically managed in the database per organization,
# but can be overridden with environment variables if needed.

# ============================================
# END OF CONFIGURATION
# ============================================
#
# For more information, see the documentation at:
# https://docs.scrybe.io/configuration
#
# Common configuration patterns:
#
# LOCAL DEVELOPMENT:
#   - Set DATABASE_URL to local PostgreSQL
#   - Set NEXT_PUBLIC_APP_URL to http://localhost:3000
#   - Only ANTHROPIC_API_KEY is strictly required for AI features
#
# STAGING:
#   - Use test API keys (sk_test_*, etc.)
#   - Enable all integrations for testing
#
# PRODUCTION:
#   - Use live API keys
#   - Enable CLAMAV_HOST or external scanner
#   - Set AWS_KMS_KEY_ARN for HIPAA compliance
#   - Configure REDIS_URL for job queue
#   - Set up all email providers for redundancy
